# VERSOS DE PROTESTA - BACKLOG DE CARACTER√çSTICAS AVANZADAS
# ==============================================================

project:
  name: "Versos de Protesta - Enhanced Features"
  version: "2.0.0"
  description: "Caracter√≠sticas avanzadas para enriquecer la experiencia educativa multiling√ºe"

architecture:
  new_directories:
    - "/src/pages/herramientas/"     # P√°ginas principales de herramientas
    - "/src/pages/compositores/"     # Biograf√≠as de compositores  
    - "/src/pages/gramatica/"        # Visualizadores gramaticales
    - "/src/pages/pronunciacion/"    # Gu√≠as IPA con audio
    - "/src/components/advanced/"    # Componentes avanzados
    - "/public/data/chinese/"        # Trazos, radicales, etimolog√≠a local
    - "/public/data/composers/"      # Biograf√≠as y contexto hist√≥rico
    - "/public/data/grammar/"        # Datos para visualizador gramatical
    - "/public/data/pronunciation/"  # Archivos IPA y metadatos de audio

data_generation:
  chinese_strokes:
    source: "MDBG Chinese Dictionary (mdbg.net)"
    attribution: "Stroke order animations ¬© MDBG Chinese Dictionary"
    license: "Used with attribution for educational purposes"
    script: "/scripts/download-chinese-strokes.mjs"
    
  radical_analysis:
    source: "Unicode Radical Database + Manual curation"
    script: "/scripts/generate-radical-data.mjs"
    
  etymology_data:
    source: "Historical character evolution + Academic sources"
    script: "/scripts/generate-etymology-data.mjs"

features:
  # ========================================
  # FASE 1: SISTEMA CHINO LOCAL (4-6 D√çAS)
  # ========================================
  chinese_local_system:
    priority: "CR√çTICA"
    estimated_time: "4-6 d√≠as"
    components:
      - stroke_downloader:
          file: "/scripts/download-chinese-strokes.mjs"
          description: "Descarga trazos de MDBG con atribuci√≥n"
          output: "/public/data/chinese/strokes/"
          status: "pending"
          
      - radical_analyzer:
          file: "/src/components/advanced/RadicalAnalyzer.astro"
          description: "An√°lisis de radicales con explicaciones"
          dependencies: ["/public/data/chinese/radicals.json"]
          status: "pending"
          
      - etymology_viewer:
          file: "/src/components/advanced/EtymologyViewer.astro" 
          description: "Evoluci√≥n hist√≥rica de caracteres"
          dependencies: ["/public/data/chinese/etymology.json"]
          status: "pending"
          
      - enhanced_chinese_modal:
          file: "/src/components/advanced/EnhancedChineseModal.astro"
          description: "Modal mejorado con radicales + etimolog√≠a + trazos locales"
          replaces: "Funcionalidad actual en DynamicDictionary.astro"
          status: "pending"

  # ========================================  
  # FASE 2: COMPOSITORES Y CONTEXTO (3-4 D√çAS)
  # ========================================
  composers_system:
    priority: "ALTA"
    estimated_time: "3-4 d√≠as" 
    components:
      - composer_pages:
          directory: "/src/pages/compositores/"
          description: "P√°ginas individuales por compositor"
          structure: "[composer-slug].astro"
          status: "pending"
          
      - composer_data:
          file: "/public/data/composers/index.json"
          description: "Base de datos de compositores Y ARTISTAS con biograf√≠as"
          includes: ["biograf√≠a", "contexto_hist√≥rico", "obras_destacadas", "cronolog√≠a", "int√©rpretes_destacados"]
          note: "Distinguir entre compositor original e int√©rpretes hist√≥ricos importantes"
          status: "pending"
          
      - revolutionary_context:
          file: "/src/components/advanced/RevolutionaryContext.astro"
          description: "Contexto hist√≥rico expandido con im√°genes"
          features: ["timeline_eventos", "galer√≠a_hist√≥rica", "mapas_geogr√°ficos"]
          status: "pending"

  # ========================================
  # FASE 3: HERRAMIENTAS IPA + AUDIO (3-4 D√çAS)  
  # ========================================
  pronunciation_system:
    priority: "ALTA"
    estimated_time: "3-4 d√≠as"
    components:
      - ipa_generator:
          file: "/scripts/generate-ipa-data.mjs"
          description: "Genera datos IPA para palabras del diccionario"
          output: "/public/data/pronunciation/ipa-guide.json"
          status: "pending"
          
      - pronunciation_guide:
          file: "/src/pages/pronunciacion/[lang].astro"
          description: "Gu√≠as IPA interactivas por idioma"
          features: ["ejemplos_sonoros", "comparaci√≥n_fon√©tica", "problemas_hispanohablantes"]
          status: "pending"
          
      - ipa_visualizer:
          file: "/src/components/advanced/IPAVisualizer.astro"
          description: "Visualizador IPA con diagramas articulatorios"
          status: "pending"

  # ========================================
  # FASE 4: VISUALIZADOR GRAMATICAL (5-7 D√çAS)
  # ========================================  
  grammar_visualizer:
    priority: "MEDIA-ALTA"
    estimated_time: "5-7 d√≠as"
    components:
      - syntax_trees:
          file: "/src/components/advanced/SyntaxTreeVisualizer.astro"
          description: "√Årboles sint√°cticos interactivos SVG"
          technologies: ["SVG", "D3.js_lite", "JavaScript_vanilla"]
          status: "pending"
          
      - case_visualizer:
          file: "/src/components/advanced/CaseSystemVisualizer.astro" 
          description: "Visualizador de casos alem√°n/ruso"
          features: ["tablas_interactivas", "ejemplos_contextuales", "ejercicios_impl√≠citos"]
          status: "pending"
          
      - comparative_grammar:
          file: "/src/pages/gramatica/comparativa.astro"
          description: "Comparaci√≥n gramatical lado a lado"
          features: ["5_idiomas_paralelos", "highlighting_diferencias", "an√°lisis_tipol√≥gico"]
          status: "pending"
          
      - grammar_data:
          directory: "/public/data/grammar/"
          files: ["syntax-patterns.json", "case-systems.json", "comparative-structures.json"]
          description: "Datos estructurados para visualizador"
          status: "pending"

scripts_to_create:
  # Generaci√≥n de datos chinos
  - "/scripts/download-chinese-strokes.mjs":
      description: "Descarga trazos de MDBG con atribuci√≥n legal"
      output: "/public/data/chinese/strokes/"
      
  - "/scripts/generate-radical-data.mjs":
      description: "Genera base de datos de radicales"
      output: "/public/data/chinese/radicals.json"
      
  - "/scripts/generate-etymology-data.mjs":
      description: "Datos de etimolog√≠a de caracteres" 
      output: "/public/data/chinese/etymology.json"
      
  # Datos de compositores e int√©rpretes
  - "/scripts/generate-composer-data.mjs":
      description: "Base de datos de compositores Y artistas int√©rpretes revolucionarios"
      includes: ["compositores_originales", "int√©rpretes_hist√≥ricos", "versiones_destacadas"]
      output: "/public/data/composers/"
      
  # Datos de pronunciaci√≥n
  - "/scripts/generate-ipa-data.mjs":
      description: "Genera datos IPA para diccionario existente"
      input: "/public/data/internal/v1/dictionary/"
      output: "/public/data/pronunciation/"
      
  # Datos gramaticales  
  - "/scripts/generate-grammar-data.mjs":
      description: "Extrae patrones gramaticales de lecciones"
      input: "/src/content/blog/"
      output: "/public/data/grammar/"

navigation_structure:
  main_nav:
    - "Inicio": "/"
    - "Blog": "/blog/"
    - "Diccionario": "/diccionario/"
    - "Herramientas": "/herramientas/"
    - "Compositores": "/compositores/"
    - "Gram√°tica": "/gramatica/"
    - "Pronunciaci√≥n": "/pronunciacion/"
    
  herramientas_subnav:
    - "An√°lisis Chino": "/herramientas/chino/"
    - "Visualizador Gramatical": "/herramientas/gramatica/"
    - "Gu√≠as IPA": "/herramientas/pronunciacion/"
    - "Contexto Hist√≥rico": "/herramientas/historia/"

development_phases:
  fase_1:
    name: "Sistema Chino Local"
    duration: "1-2 semanas"
    goal: "Trazos, radicales y etimolog√≠a sin APIs externas"
    deliverables:
      - "Descarga masiva de trazos MDBG"
      - "Base de datos de radicales local"
      - "Modal chino mejorado"
      - "Sistema de atribuci√≥n de fuentes"
      
  fase_2:
    name: "Compositores y Contexto"
    duration: "1 semana"
    goal: "Biograf√≠as y contexto hist√≥rico rico"
    deliverables:
      - "P√°ginas de compositores individuales"
      - "Contexto revolucionario expandido"
      - "Galer√≠a hist√≥rica por canci√≥n"
      
  fase_3:
    name: "Herramientas IPA"
    duration: "1 semana"  
    goal: "Pronunciaci√≥n visual sin audio externo"
    deliverables:
      - "Gu√≠as IPA interactivas"
      - "Visualizador articulatorio"
      - "Comparaci√≥n fon√©tica entre idiomas"
      
  fase_4:
    name: "Visualizador Gramatical"
    duration: "2 semanas"
    goal: "An√°lisis sint√°ctico visual avanzado"
    deliverables:
      - "√Årboles sint√°cticos SVG"
      - "Visualizador de casos"
      - "Gram√°tica comparativa"

legal_considerations:
  chinese_strokes:
    source: "MDBG Chinese Dictionary"
    attribution: "Required in footer and component headers"
    license_type: "Educational use with attribution"
    
  composer_data:
    sources: ["Wikipedia Commons", "Public Domain sources", "Academic papers"]
    images: "Only public domain or Creative Commons"
    
  ipa_data:
    source: "Generated from linguistic databases"
    no_copyright_issues: "Phonetic transcription is factual data"

immediate_quality_improvements:
  # CR√çTICAS - CALIDAD CONTENIDO EXISTENTE
  
  chinese_data_maintenance_automation:
    priority: "CR√çTICA"
    estimated_time: "2-3 d√≠as"
    problem: "Las im√°genes de trazos (MDBG) y an√°lisis de radicales se quedan hu√©rfanos cuando a√±adimos vocabulario nuevo"
    current_situation:
      - "Modal tiene im√°genes trazos extra√≠das de MDBG guardadas local"
      - "Modal tiene an√°lisis de radicales implementado"
      - "Tablas vocabulario ahora incluyen: Trazos | Radical | Estructura"
      - "build-dictionary.mjs genera diccionario desde tablas vocabulario"
      - "Sistema funciona manual pero NO se mantiene autom√°tico"
    critical_issue: "Cada entrada nueva de blog a√±ade vocabulario sin generar/actualizar datos chinos correspondientes"
    solution_components:
      - auto_chinese_data_sync:
          file: "/scripts/sync-chinese-data.mjs"
          description: "Hook post-diccionario que sincroniza datos chinos"
          triggers: "Despu√©s de build-dictionary.mjs"
          actions:
            - "Detectar caracteres chinos nuevos en diccionario"
            - "Descargar trazos faltantes de MDBG"
            - "Generar an√°lisis radicales faltantes"
            - "Actualizar metadatos estructura caracteres"
          output: "/public/data/chinese/ actualizado"
          
      - precommit_integration:
          description: "Integrar sync-chinese-data.mjs en precommit hooks"
          location: ".husky/pre-commit o equivalente"
          sequence:
            1. "build-dictionary.mjs (actual)"
            2. "sync-chinese-data.mjs (NUEVO)"
            3. "commit con datos actualizados"
            
      - chinese_data_validator:
          file: "/scripts/validate-chinese-completeness.mjs"
          description: "Validar que todos los caracteres tienen datos completos"
          checks:
            - "Cada zh del diccionario tiene imagen trazo"
            - "Cada zh tiene an√°lisis radical"
            - "Cada zh tiene datos estructura"
          output: "Reporte discrepancias + auto-fix"
    status: "pendiente"
    
  content_quality_audit:
    priority: "CR√çTICA"
    estimated_time: "2-3 d√≠as"
    components:
      - research_sources_backfill:
          description: "A√±adir fuentes de investigaci√≥n multiling√ºes a D√≠as 0-11"
          pattern: "Aplicar metodolog√≠a establecida en D√≠a 12"
          output: "Secciones 'üîç FUENTES DE INVESTIGACI√ìN MULTILING√úES' en todas las entradas"
          status: "completado_hasta_dia_5"
          completed: ["D√≠a 0", "D√≠a 1", "D√≠a 2", "D√≠a 3", "D√≠a 4", "D√≠a 5"]
          pending: ["D√≠a 6", "D√≠a 7", "D√≠a 8", "D√≠a 9", "D√≠a 10", "D√≠a 11"]
          
      - wikipedia_links_verification:
          description: "Verificar enlaces Wikipedia usando WebFetch metodolog√≠a"
          pattern: "Empezar desde idioma principal ‚Üí identificar idiomas disponibles ‚Üí verificar existencia"
          output: "Enlaces verificados y corregidos en todas las entradas"
          status: "completado_hasta_dia_5"
          completed: ["D√≠a 0", "D√≠a 1", "D√≠a 2", "D√≠a 3", "D√≠a 4", "D√≠a 5"]
          pending: ["D√≠a 6", "D√≠a 7", "D√≠a 8", "D√≠a 9", "D√≠a 10", "D√≠a 11"]
          
      - vocabulary_categories_completion:
          description: "A√±adir categor√≠as gramaticales en todas las tablas de vocabulario"
          pattern: "8 columnas obligatorias: ES|EN|DE|PT|RU|RU-Rom|ZH|ZH-Pinyin|Categor√≠a"
          output: "Tablas vocabulario completas seg√∫n CLAUDE.md"
          status: "completado_hasta_dia_5"
          completed: ["D√≠a 0", "D√≠a 1", "D√≠a 2", "D√≠a 3", "D√≠a 4", "D√≠a 5"]
          pending: ["D√≠a 6", "D√≠a 7", "D√≠a 8", "D√≠a 9", "D√≠a 10", "D√≠a 11"]
          note: "D√≠as 1-5 ya ten√≠an categor√≠as, se a√±adi√≥ columna Categor√≠a al D√≠a 0"
          
      - lyrics_accuracy_verification:
          description: "Verificar letras de canciones contra fuentes Wikipedia"
          pattern: "WebFetch a Wikipedia del idioma original ‚Üí comparar ‚Üí corregir"
          output: "Letras verificadas y corregidas seg√∫n fuentes oficiales"
          status: "pendiente"
          
      - dictionary_discrepancies_fix:
          description: "Corregir discrepancias en diccionario JSON - idiomas con palabras faltantes"
          issue: "zh/zhPinyin: 64 palabras vs 67-68 en otros idiomas"
          pattern: "Identificar palabras faltantes ‚Üí completar ‚Üí regenerar diccionario"
          output: "Todos los idiomas con mismo n√∫mero de palabras"
          status: "pendiente"

next_immediate_actions:
  # ORDEN DE PRIORIDAD ACTUALIZADO (26/07/2025)
  1. "CR√çTICO: Automatizar mantenimiento datos chinos - im√°genes trazos y an√°lisis radicales se quedan hu√©rfanos con vocabulario nuevo"
  2. "CR√çTICO: Completar mejoras calidad D√≠as 6-11 (fuentes, enlaces, categor√≠as, letras) - [D√çAS 0-5 COMPLETADOS]"
  3. "CR√çTICO: Verificar y corregir letras de canciones contra Wikipedia en D√≠as 0-11" 
  4. "CR√çTICO: Corregir discrepancias diccionario JSON (palabras faltantes zh/zhPinyin: 64 vs 67-68)"
  5. "IMPORTANTE: Aplicar regla de origen geogr√°fico - si canci√≥n no tiene origen espec√≠fico, asumir pa√≠s de uso hist√≥rico"
  6. "ALTA: Crear estructura de directorios nueva"
  7. "ALTA: Script de descarga de trazos chinos con atribuci√≥n" 
  8. "MEDIA: Primer prototipo de modal chino mejorado"
  9. "MEDIA: Base de datos de compositores (manual inicial)"
  10. "BAJA: Gu√≠a IPA para un idioma piloto"

success_metrics:
  chinese_system:
    - "100% trazos disponibles localmente"
    - "An√°lisis de radicales para caracteres del diccionario"
    - "Tiempo de carga < 2 segundos"
    
  composer_system:
    - "Biograf√≠a completa para compositores de 12 canciones"
    - "Contexto hist√≥rico expandido"
    - "Galer√≠a visual por per√≠odo"
    
  grammar_system:
    - "Visualizaci√≥n para 5 idiomas paralelos"
    - "Interactividad sin lag"
    - "Pedagog√≠a visual clara"

maintenance:
  chinese_data:
    update_frequency: "Trimestral"
    maintenance_script: "/scripts/update-chinese-data.mjs"
    
  composer_data:
    update_frequency: "Mensual" 
    add_new_composers: "Seg√∫n nuevas canciones"
    
  grammar_data:
    update_frequency: "Con cada nueva lecci√≥n"
    auto_extraction: "Desde frontmatter de lessons"